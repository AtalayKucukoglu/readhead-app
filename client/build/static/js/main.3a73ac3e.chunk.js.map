{"version":3,"sources":["services/authServices.js","actions/authAction.js","reducers/authReducer.js","services/userServices.js","actions/userListsAction.js","reducers/userListsReducer.js","reducers/rootReducer.js","helpers/store.js","helpers/helpers.js","images/profile_picture.jpg","components/RoundedImage.js","components/Header.js","images/logo_white.png","components/LoadingIcon.js","pages/LoginPage.js","pages/RegisterPage.js","components/CreateEntityModal.js","components/forms/UserForm.js","components/forms/GoalForm.js","services/authorServices.js","services/bookServices.js","components/DeleteModalButton.js","pages/ProfilePage.js","images/logo_orange.png","pages/HomePage.js","components/ListItem.js","components/forms/BookForm.js","components/forms/AuthorForm.js","pages/SearchPage.js","pages/BookPage.js","pages/AuthorPage.js","App.js","reportWebVitals.js","init/init.js","index.js"],"names":["login","username","password","console","log","axios","post","then","response","data","catch","err","isTokenValid","token","get","res","status","LOGIN_SUCCESS","LOGIN_ERROR","LOGOUT","defaultErrorMessage","loginSuccess","user","type","loginError","error","dispatch","authServices","setAuthorizationToken","message","logout","register","email","birthdate","gender","initState","isAuthenticated","errorMessage","authReducer","state","action","getFavoritesList","getHaveReadList","getToReadList","getAllLists","a","favorites","toRead","haveRead","updateGoal","put","updateUserInfo","UPDATE_LIST_OPERATIONS","UPDATE_FAVORITES","UPDATE_HAVE_READ","UPDATE_TO_READ","UPDATE_ALL_LISTS","listnames","updateList","newList","operation","payload","updateAllLists","newLists","updateListError","addToList","book_id","actionName","listname","userServices","updated","deleteFromList","delete","userListsReducer","rootReducer","combineReducers","auth","lists","loggerMiddleware","createLogger","store","createStore","compose","applyMiddleware","thunkMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","defaults","headers","common","localStorage","setItem","removeItem","mapStateToProps","RoundedImage","props","styles","wrapper","display","height","width","cursor","image","objectFit","alignSelf","borderRadius","style","onClick","src","alt","Header","goTo","path","history","push","this","className","renderRouteItem","profilePicture","name","ButtonBase","padding","Typography","variant","color","Component","connect","LoadingIcon","CircularProgress","size","LoginPage","isLoginFormFilled","handleChange","ev","setState","target","value","handleLogin","e","preventDefault","isLoading","responseReceived","Grid","item","xs","s","md","lg","xl","Alert","severity","TextField","required","label","onChange","Button","disabled","Link","href","genders","RegisterPage","isFormFilled","handleRegister","undefined","select","map","option","MenuItem","InputLabelProps","shrink","CreateEntityModal","handleOpen","onOpen","handleClose","onClose","handleSave","onSave","isOpen","isSaving","title","displayProps","displayText","component","Dialog","open","maxWidth","DialogTitle","DialogContent","children","DialogActions","autoFocus","genderMap","UserForm","renderForm","birth_date","user_id","saved","mode","text","GoalForm","goal_book_count","goal_start_date","goal_end_date","getAuthorById","authorId","getAuthorBooks","searchAuthorsByName","input","createAuthor","updateAuthor","searchBooksByTitle","createBook","updateBook","bookId","DeleteModalButton","renderDeleteConfirmModal","renderItem","handleDeleteConfirm","red","itemName","secondaryInfo","publish_date","birthplace","id","author_id","ProfilePage","fetchUserData","visitedUsername","getParams","defaultMessage","isUsersOwnProfile","visitedUser","fetchListsData","visitedLists","renderUserInfo","pp","green","renderLists","hasData","list","length","book","renderGoalInfo","match","params","goalsModalOpen","goalSaving","prevProps","prevState","container","spacing","direction","sm","HomePage","handleLoginClick","handleRegisterClick","logo","ListItem","handleIconClick","isInList","isRead","isWanted","isFavorite","icons","Paper","elevation","pages","IconButton","CheckCircle","grey","Favorite","Star","yellow","PureComponent","BookForm","Autocomplete","author","newVal","inputValue","authorInput","onInputChange","handleAuthorInputChange","options","authorResults","getOptionLabel","renderInput","placeholder","publish_place","publisher","searchAuthors","result","AuthorForm","fetchBirthPlaces","bpResults","birthPlace","bpInput","death_date","renderBirthPlaces","birthplace_id","placeholders","SearchPage","fetchLists","listsData","renderResults","results","searchMode","some","b","renderAddItem","search","handleSearchModeChange","handleSearchChange","fetchResults","trim","FormControl","RadioGroup","row","FormControlLabel","control","Radio","BookPage","fetchBookData","renderBook","AuthorPage","fetchAuthorData","fetchAuthorBooks","books","renderAuthor","renderBooks","index","Divider","App","getItem","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","baseURL","jwtToken","setAxiosDefaults","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3a73ac3e.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { setAuthorizationToken } from \"../helpers/helpers.js\";\r\n\r\nexport const login = (username, password) => {\r\n\tconsole.log(\"login service called\")\r\n\treturn axios.post('/users/login', { username, password })\r\n\t\t.then(response => {\r\n\t\t\tconsole.log(\"response: \", response)\r\n\t\t\tif (!response) return {}\r\n\t\t\treturn response.data;\r\n\t\t})\r\n\t\t.catch(err =>\r\n\t\t\tconsole.log(err)\r\n\t\t);\r\n}\r\n\r\nexport const logout = () => {\r\n\tsetAuthorizationToken(false);\r\n}\r\n\r\nexport const isTokenValid = (token) => {\r\n\treturn axios.get('/users/check_token')\r\n\t\t.then(res => {\r\n\t\t\tif (!res || !res.status) return false\r\n\t\t\treturn res.data\r\n\t\t})\r\n\t\t.catch(err =>\r\n\t\t\tconsole.log(err)\r\n\t\t)\r\n}\r\n\r\nexport const register = (user) => {\r\n\treturn axios.post('/users/register', {\r\n\t\t'username': user.username,\r\n\t\t'email': user.email,\r\n\t\t'password': user.password,\r\n\t\t'birth_date': user.birthdate || null,\r\n\t\t'gender': user.gender || null\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\tconsole.log(\"response: \", response)\r\n\t\t\tif (!response) return {}\r\n\t\t\treturn response.data;\r\n\t\t})\r\n\t\t.catch(err =>\r\n\t\t\tconsole.log(err)\r\n\t\t);\r\n}","import { setAuthorizationToken } from '../helpers/helpers';\r\nimport * as authServices from '../services/authServices';\r\n\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_ERROR = \"LOGIN_ERROR\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nconst defaultErrorMessage = \"An error occured. Please try again later.\"\r\n\r\nconst loginSuccess = user => {\r\n\treturn {\r\n\t\ttype: LOGIN_SUCCESS,\r\n\t\tuser\r\n\t};\r\n};\r\n\r\nconst loginError = error => {\r\n\treturn {\r\n\t\ttype: LOGIN_ERROR,\r\n\t\terror\r\n\t};\r\n};\r\n\r\nexport const login = (username, password, token = null) => {\r\n\t// try login via authorized token\r\n\tif (token && !username && !password) {\r\n\t\treturn dispatch => {\r\n\t\t\tauthServices.isTokenValid(token)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tconsole.log(\"login action data: \", res)\r\n\t\t\t\t\tif ( res && res.status) {\r\n\t\t\t\t\t\treturn dispatch(loginSuccess(res.data))\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn dispatch(logout())\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\treturn dispatch => {\r\n\t\tauthServices.login(username, password)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (!res) {\r\n\t\t\t\t\tdispatch(loginError(defaultErrorMessage))\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!res.status) {\r\n\t\t\t\t\treturn dispatch(loginError(res.message || defaultErrorMessage))\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsetAuthorizationToken(res.token)\r\n\t\t\t\t\treturn dispatch(loginSuccess(res.data))\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => dispatch(loginError(err)));\r\n\t}\r\n}\r\n\r\n\r\nexport const register = (user) => {\r\n\treturn dispatch => {\r\n\t\tauthServices.register(user)\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif (!res) {\r\n\t\t\t\t\tdispatch(loginError(defaultErrorMessage))\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!res.status) {\r\n\t\t\t\t\treturn dispatch(loginError(res.message || defaultErrorMessage))\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsetAuthorizationToken(res.token)\r\n\t\t\t\t\treturn dispatch(loginSuccess(res.data))\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => dispatch(loginError(err)));\r\n\t}\r\n}\r\n\r\nexport const logout = () => {\r\n\tauthServices.logout();\r\n\treturn {\r\n\t\ttype: LOGOUT\r\n\t};\r\n}","import { LOGIN_SUCCESS, LOGIN_ERROR, LOGOUT } from \"../actions/authAction\";\r\n\r\nconst initState = {\r\n    user: '',\r\n    isAuthenticated: false,\r\n    error: false,\r\n    errorMessage: '',\r\n}\r\n\r\nconst authReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case LOGIN_SUCCESS:\r\n            return {\r\n                ...state,\r\n                user: action.user,\r\n                isAuthenticated: true,\r\n                error: false,\r\n                errorMessage: ''\r\n            };\r\n        case LOGIN_ERROR:\r\n            return {\r\n                ...state,\r\n                user: '',\r\n                error: true,\r\n                isAuthenticated: false,\r\n                errorMessage: action.error\r\n            };\r\n        case LOGOUT:\r\n            return {\r\n                user: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","import axios from 'axios'\r\n\r\nexport const getUserWithUsername = username => {\r\n\treturn axios.get('/users/' + username)\r\n\t\t.then(res => {\r\n\t\t\tif (res && res.data && res.data.status) {\r\n\t\t\t\treturn res.data.data\r\n\t\t\t}\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\nexport const getFavoritesList = (username) => {\r\n\treturn axios.get('/users/' + username + '/favorites')\r\n\t\t.then(res => {\r\n\t\t\tif (res.data && res.data.status) {\r\n\t\t\t\treturn res.data.data\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(err => console.log(err))\r\n}\r\n\r\nexport const getHaveReadList = (username) => {\r\n\treturn axios.get('/users/' + username + '/have-read')\r\n\t\t.then(res => {\r\n\t\t\tif (res.data && res.data.status) {\r\n\t\t\t\treturn res.data.data\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(err => console.log(err))\r\n}\r\n\r\nexport const getToReadList = (username) => {\r\n\treturn axios.get('/users/' + username + '/to-read')\r\n\t\t.then(res => {\r\n\t\t\tif (res.data && res.data.status) {\r\n\t\t\t\treturn res.data.data\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(err => console.log(err))\r\n}\r\n\r\nexport const getAllLists = async (username) => {\r\n\tconst favorites = await getFavoritesList(username)\r\n\tconst toRead = await getToReadList(username)\r\n\tconst haveRead = await getHaveReadList(username)\r\n\r\n\treturn {\r\n\t\tfavorites,\r\n\t\ttoRead,\r\n\t\thaveRead,\r\n\t}\r\n}\r\n\r\nexport const addBookToList = (username, book_id, listname) => {\r\n\treturn axios.post('/users/' + username + '/' + listname, { book_id })\r\n\t\t.then(res => {\r\n\t\t\tif (res && res.data) return res.data\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn null\r\n\t\t})\r\n}\r\n\r\nexport const deleteBookFromList = (username, book_id, listname) => {\r\n\treturn axios.delete('/users/' + username + '/' + listname, { data: { book_id } }) // delete operations needs 'data' to be specified\r\n\t\t.then(res => {\r\n\t\t\tif (res && res.data) return res.data\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn null\r\n\t\t})\r\n}\r\n\r\nexport const updateGoal = (username, data) => {\r\n\tconsole.log(data)\r\n\treturn axios.put('/users/' + username + '/update', { data })\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res && res.data) return res.data\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn null\r\n\t\t})\r\n}\r\n\r\nexport const updateUserInfo = (username, data) => {\r\n\tconsole.log(data)\r\n\treturn axios.put('/users/' + username + '/update', { data })\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res && res.data) return res.data\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn null\r\n\t\t})\r\n}\r\n\r\nexport const deleteUser = (user_id) => {\r\n\tconsole.log(user_id)\r\n\treturn axios.delete('/users/delete', { data: { user_id } }) // delete operations needs 'data' to be specified\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res && res.data) return res.data\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn null\r\n\t\t})\r\n}\r\n","import * as userServices from '../services/userServices';\r\n\r\nconst defaultErrorMessage = \"An error occured. Please try again later.\"\r\n\r\n// add to list operations\r\nexport const UPDATE_LIST_OPERATIONS = {\r\n  UPDATE_FAVORITES: \"UPDATE_FAVORITES\",\r\n  UPDATE_HAVE_READ: \"UPDATE_HAVE_READ\",\r\n  UPDATE_TO_READ: \"UPDATE_TO_READ\",\r\n  UPDATE_ALL_LISTS: \"UPDATE_ALL_LISTS\",\r\n}\r\n\r\nexport const UPDATE_LIST_ERROR = \"UPDATE_LIST_ERROR\"\r\n\r\nconst { UPDATE_FAVORITES, UPDATE_HAVE_READ, UPDATE_TO_READ, UPDATE_ALL_LISTS } = UPDATE_LIST_OPERATIONS\r\n\r\nconst listnames = {\r\n  \"UPDATE_FAVORITES\": \"favorites\",\r\n  \"UPDATE_TO_READ\": \"to-read\",\r\n  \"UPDATE_HAVE_READ\": \"have-read\",\r\n}\r\n\r\nconst updateList = (newList, operation) => {\r\n  return {\r\n    type: operation,\r\n    payload: newList\r\n  };\r\n};\r\n\r\nexport const updateAllLists = (newLists) => {\r\n  if (!newLists.favorites) newLists.favorites = []\r\n  if (!newLists.haveRead) newLists.haveRead = []\r\n  if (!newLists.toRead) newLists.toRead = []\r\n  return {\r\n    type: UPDATE_ALL_LISTS,\r\n    payload: newLists,\r\n  }\r\n}\r\n\r\nconst updateListError = (error) => {\r\n  return {\r\n    type: UPDATE_LIST_ERROR,\r\n    error,\r\n  }\r\n}\r\n\r\nexport const test = () => dispatch => {\r\n  return dispatch(updateList([], UPDATE_FAVORITES))\r\n}\r\n\r\n\r\nexport const addToList = (username, book_id, actionName) => {\r\n  return dispatch => {\r\n    userServices.addBookToList(username, book_id, listnames[actionName])\r\n      .then(async res => {\r\n        // error handling\r\n        if (!res) {\r\n          dispatch(updateListError(defaultErrorMessage))\r\n          return\r\n        }\r\n        if (!res.status) {\r\n          return dispatch(updateListError(res.message || defaultErrorMessage))\r\n        }\r\n        // if succesfully added, get the updated list\r\n        let updated = [] // updated list\r\n        switch (actionName) {\r\n          case UPDATE_FAVORITES: {\r\n            updated = await userServices.getFavoritesList(username);\r\n            break;\r\n          }\r\n          case UPDATE_TO_READ: {\r\n            updated = await userServices.getToReadList(username);\r\n            break;\r\n          }\r\n          case UPDATE_HAVE_READ: {\r\n            updated = await userServices.getHaveReadList(username);\r\n            break;\r\n          }\r\n          default:\r\n            return dispatch(updateListError(defaultErrorMessage));\r\n        }\r\n        return dispatch(updateList(updated, actionName));\r\n      })\r\n      .catch(err => dispatch(updateListError(err)));\r\n  }\r\n}\r\n\r\nexport const deleteFromList = (username, book_id, actionName) => {\r\n  return dispatch => {\r\n    userServices.deleteBookFromList(username, book_id, listnames[actionName])\r\n      .then(async res => {\r\n        // error handling\r\n        if (!res) {\r\n          dispatch(updateListError(defaultErrorMessage))\r\n          return\r\n        }\r\n        if (!res.status) {\r\n          return dispatch(updateListError(res.message || defaultErrorMessage))\r\n        }\r\n        // if succesfully added, get the updated list\r\n        let updated = [] // updated list\r\n        switch (actionName) {\r\n          case UPDATE_FAVORITES: {\r\n            updated = await userServices.getFavoritesList(username);\r\n            break;\r\n          }\r\n          case UPDATE_TO_READ: {\r\n            updated = await userServices.getToReadList(username);\r\n            break;\r\n          }\r\n          case UPDATE_HAVE_READ: {\r\n            updated = await userServices.getHaveReadList(username);\r\n            break;\r\n          }\r\n          default:\r\n            return dispatch(updateListError(defaultErrorMessage));\r\n        }\r\n        return dispatch(updateList(updated, actionName));\r\n      })\r\n      .catch(err => dispatch(updateListError(err)));\r\n  }\r\n}\r\n","import { UPDATE_LIST_OPERATIONS } from \"../actions/userListsAction\";\r\n\r\nconst { UPDATE_FAVORITES, UPDATE_HAVE_READ, UPDATE_TO_READ, UPDATE_ALL_LISTS } = UPDATE_LIST_OPERATIONS\r\n\r\nconst initState = {\r\n  favorites: [],\r\n  haveRead: [],\r\n  toRead: [],\r\n}\r\n\r\nconst userListsReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_FAVORITES:\r\n      return {\r\n        ...state,\r\n        favorites: action.payload,\r\n      };\r\n    case UPDATE_TO_READ:\r\n      return {\r\n        ...state,\r\n        toRead: action.payload,\r\n      };\r\n    case UPDATE_HAVE_READ:\r\n      return {\r\n        ...state,\r\n        haveRead: action.payload,\r\n      };\r\n    case UPDATE_ALL_LISTS:\r\n      return {\r\n        ...state,\r\n        favorites: action.payload.favorites || [],\r\n        haveRead: action.payload.haveRead || [],\r\n        toRead: action.payload.toRead || [],\r\n      };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default userListsReducer;","import { combineReducers } from 'redux';\r\n\r\nimport authReducer from './authReducer';\r\nimport userListsReducer from './userListsReducer';\r\n\r\nlet rootReducer = combineReducers({\r\n  auth: authReducer, lists: userListsReducer\r\n});\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { createLogger } from \"redux-logger\";\r\n\r\nimport rootReducer from '../reducers/rootReducer';\r\n\r\nconst loggerMiddleware = createLogger();\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  compose(\r\n    applyMiddleware(thunkMiddleware, loggerMiddleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;","import axios from 'axios';\r\nimport store from './store'\r\n\r\n// authorization related helpers\r\n\r\nexport const setAuthorizationToken = token => {\r\n  if (token) {\r\n    console.log(\"set auth token: \", token)\r\n    axios.defaults.headers.common[\"Authorization\"] = token;\r\n    window.localStorage.setItem(\"readhead-jwtToken\", token);\r\n    return\r\n  }\r\n  else\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n    window.localStorage.removeItem(\"readhead-jwtToken\")\r\n    return\r\n}\r\n\r\nexport const getAuthorizationToken = () => {\r\n  const token = window.localStorage.getItem(\"readhead-jwtToken\")\r\n  return token || null\r\n}\r\n\r\n// user related helpers\r\n\r\n// export const getUsername = () => {\r\n//   return store.getState().auth.user.username || null\r\n// }\r\n\r\n// export const getUserId = () => {\r\n//   return store.getState().auth.user.user_id || null\r\n// }\r\n\r\nexport const getDateFormatted = (date) => {\r\n  if (!date) return null\r\n  return date.getYear() + '-' + date.getMonth() + '-' + date.getDate()\r\n}\r\n\r\n// redux related helpers\r\n\r\nexport const mapStateToProps = (state) => {\r\n  const { isAuthenticated, error, errorMessage, user } = state.auth;\r\n  const {favorites, toRead, haveRead} = state.lists;\r\n  return {\r\n    isAuthenticated,\r\n    error,\r\n    errorMessage,\r\n    user,\r\n    favorites,\r\n    toRead,\r\n    haveRead,\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/profile_picture.75e00f76.jpg\";","import React from 'react'\r\n\r\nexport default function RoundedImage(props) {\r\n\r\n  const defaultSize = 50\r\n  const styles = { \r\n    wrapper: {\r\n      display: 'flex',\r\n      height: props.height || defaultSize,\r\n      width: props.height ? 'auto' : defaultSize,\r\n      cursor: 'pointer',\r\n    },\r\n    image: {\r\n      objectFit: 'cover',\r\n      alignSelf: 'center',\r\n      height: 'inherit',\r\n      width: props.height ? 'auto' : '100%',\r\n      borderRadius: props.height || defaultSize\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={styles.wrapper} onClick={props.onClick || null}>\r\n      <img style={styles.image} src={props.src} alt={props.alt} />\r\n    </div>\r\n  )\r\n}\r\n\r\n","import { ButtonBase, Typography } from '@material-ui/core'\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { mapStateToProps } from '../helpers/helpers'\r\nimport logo from '../images/logo_white.png'\r\nimport profilePicture from '../images/profile_picture.jpg'\r\nimport RoundedImage from './RoundedImage'\r\n\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const { isAuthenticated } = this.props\r\n    const { username } = this.props.user\r\n    return (\r\n      <div className='header'>\r\n        <div className='flex-row ai-center'>\r\n          <img className='header-logo' src={logo} alt='ReadHead Logo' onClick={() => this.goTo('/')} />\r\n          {/* if user is authenticated, show these: logout, search*/}\r\n          {isAuthenticated ? this.renderRouteItem('Logout', '/login') : null}\r\n          {isAuthenticated ? this.renderRouteItem('Search', '/search') : null}\r\n          {/* if user is NOT authenticated, show these: login, register*/}\r\n          {!isAuthenticated ? this.renderRouteItem('Login', '/login') : null}\r\n          {!isAuthenticated ? this.renderRouteItem('Register', '/register') : null}\r\n        </div>\r\n        {/* if user is authenticated, show profile image as a link to profile*/}\r\n        { isAuthenticated && username ?\r\n          <RoundedImage src={profilePicture} alt='Profile' height='80%' onClick={() => this.goTo('/users/' + username)} />\r\n          : null}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderRouteItem(name, path) {\r\n    return (\r\n      <ButtonBase style={{ padding: 20 }} onClick={() => this.goTo(path)} >\r\n        <Typography variant='h6' style={{ color: '#ffffff' }} >{name}</Typography>\r\n      </ButtonBase>\r\n    )\r\n  }\r\n\r\n  goTo = (path) => this.props.history.push(path)\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header)","export default \"data:image/png;base64,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\"","import { CircularProgress } from '@material-ui/core'\r\nimport React from 'react'\r\n\r\nexport default function LoadingIcon(props) {\r\n  const sizes = {'sm': 20, 'md': 40, }\r\n  const color = props.color || '#ffffff'\r\n  return (\r\n    <CircularProgress size={sizes[props.size]} style={{ color: color }} />\r\n  )\r\n}\r\n","import { Button, Grid, TextField, Typography, Link } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { login, logout } from \"../actions/authAction\";\r\nimport LoadingIcon from '../components/LoadingIcon';\r\nimport { mapStateToProps } from '../helpers/helpers';\r\n\r\nclass LoginPage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isLoading: false,\r\n      username: '',\r\n      password: '',\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(logout());\r\n  }\r\n\r\n  render() {\r\n    const { isAuthenticated, error, errorMessage } = this.props\r\n    const { isLoading } = this.state\r\n\r\n    if (isAuthenticated) {\r\n      this.props.history.push(\"/users/\" + this.props.user.username)\r\n    }\r\n\r\n    if (this.responseReceived() && isLoading) this.setState({ isLoading: false })\r\n    console.log(this.responseReceived(), isLoading)\r\n    return (\r\n      <div className='page-container jc-center ai-center'>\r\n        <Grid item className='px-1 py-1' xs={8} s={6} md={6} lg={4} xl={3}>\r\n          <Typography variant='h3' >\r\n            Login\r\n        </Typography>\r\n          {\r\n            !error ? null :\r\n              <Alert severity=\"error\">{errorMessage}</Alert>\r\n          }\r\n          <form className='flex-column my-1'>\r\n            <TextField className='mb-1' required variant='outlined' label='Username' type='text' name='username'\r\n              value={this.state.username} onChange={this.handleChange} />\r\n            <TextField className='mb-1' required variant='outlined' label='Password' type='password' name='password'\r\n              value={this.state.password} onChange={this.handleChange} />\r\n          </form>\r\n          <div className='jc-center flex-column' >\r\n            <Button disabled={!this.isLoginFormFilled()} className='mb-1' color='primary' variant='contained' onClick={this.handleLogin} >\r\n              {this.state.isLoading ? <LoadingIcon size='sm' /> : \"Login\"}\r\n            </Button>\r\n            <Link variant='body1' href='/register' >\r\n              Not registered yet? Register now!\r\n            </Link>\r\n          </div>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  isLoginFormFilled = () => {\r\n    return this.state.username && this.state.password\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    this.setState({ [ev.target.name]: ev.target.value\r\n    })\r\n  }\r\n\r\n  handleLogin = e => {\r\n    if (!this.isLoginFormFilled()) return\r\n    e.preventDefault();\r\n    this.setState({ isLoading: true })\r\n    const { dispatch } = this.props;\r\n    const { username, password } = this.state;\r\n    console.log(\"before dispatch\")\r\n    dispatch(login(username, password));\r\n    console.log(\"after dispatch\")\r\n  }\r\n\r\n  responseReceived = () => {\r\n    return this.props.isAuthenticated || this.props.error\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(LoginPage)\r\n","import { Button, Grid, MenuItem, TextField, Typography, Link } from '@material-ui/core'\r\nimport React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { register } from \"../actions/authAction\";\r\nimport LoadingIcon from '../components/LoadingIcon';\r\nimport { mapStateToProps } from '../helpers/helpers';\r\n\r\nconst genders = ['Male', 'Female']\r\n\r\nclass RegisterPage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isLoading: false,\r\n      email: '',\r\n      username: '',\r\n      password: '',\r\n      gender: '',\r\n      birthdate: '',\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.props.isAuthenticated && this.props.user) {\r\n      this.props.history.push('/users/' + this.props.user.username)\r\n    }\r\n\r\n    return (\r\n      <div className='page-container jc-center ai-center'>\r\n        <Grid item className='px-1 py-1' xs={8} s={6} md={6} lg={4} xl={3}>\r\n          <Typography variant='h3' >\r\n            Register\r\n        </Typography>\r\n          <form className='flex-column my-1'>\r\n            <TextField className='mb-1' required variant='outlined' label='Email' type='email' name='email'\r\n              value={this.state.email} onChange={this.handleChange} />\r\n            <TextField className='mb-1' required variant='outlined' label='Username' type='text' name='username'\r\n              value={this.state.username} onChange={this.handleChange} />\r\n            <TextField className='mb-1' required variant='outlined' label='Password' type='password' name='password'\r\n              value={this.state.password} onChange={this.handleChange} />\r\n            <TextField className='mb-1' select variant='outlined' label='Gender' type='text' name='gender'\r\n              value={this.state.gender} onChange={this.handleChange} >\r\n              {genders.map(option =>\r\n                <MenuItem key={option} value={option}>\r\n                  {option}\r\n                </MenuItem>)}\r\n            </TextField>\r\n            <TextField className='mb-1' InputLabelProps={{ shrink: true }} variant='outlined' label='Birthdate'\r\n              type='date' name='birthdate' value={this.state.birthdate} onChange={this.handleChange} />\r\n          </form>\r\n          <div className='jc-center flex-column' >\r\n            <Button disabled={!this.isFormFilled()} className='mb-1' color='primary' variant='contained' onClick={this.handleRegister} >\r\n              {this.state.isLoading ? <LoadingIcon size='sm' /> : \"Register\"}\r\n            </Button>\r\n            <Link variant='body1' href='/login' >\r\n              Already registered? Login here.\r\n            </Link>\r\n          </div>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  isFormFilled = () => {\r\n    return this.state.email && this.state.username && this.state.password\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    this.setState({\r\n      [ev.target.name]: ev.target.value\r\n    })\r\n  }\r\n\r\n  handleRegister = (ev) => {\r\n    if (!this.isFormFilled()) return\r\n    this.setState({ isLoading: true })\r\n    const { dispatch } = this.props;\r\n    const user = { ...this.state, isLoading: undefined }\r\n    dispatch(register(user));\r\n  }\r\n\r\n  responseReceived = () => {\r\n    return this.props.isAuthenticated || this.props.error\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(RegisterPage)\r\n\r\n\r\n\r\n","import { Button, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Link, Typography } from '@material-ui/core'\r\nimport React, { Component } from 'react'\r\nimport LoadingIcon from './LoadingIcon'\r\n\r\nexport default class CreateEntityModal extends Component {\r\n\r\n  render() {\r\n    const { isOpen, isSaving, title, display, displayProps, displayText } = this.props\r\n    return (\r\n      <div>\r\n        {display === 'button' ?\r\n          <Button variant='contained' color='primary' onClick={this.handleOpen}>\r\n            {displayText}\r\n          </Button> :\r\n          display === 'link' ? \r\n          <Typography component={Link} {...displayProps}>\r\n            {displayText}\r\n          </Typography>\r\n          : null\r\n      }\r\n        <Dialog\r\n          open={isOpen}\r\n          onClose={this.handleClose}\r\n          maxWidth='md' >\r\n          <DialogTitle>{title}</DialogTitle>\r\n          <DialogContent>\r\n            {this.props.children}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleSave} color=\"primary\">\r\n              { isSaving ? <LoadingIcon size='sm' color='primary' /> : \"Save\" }\r\n          </Button>\r\n            <Button onClick={this.handleClose} color=\"primary\" autoFocus>\r\n              Cancel\r\n          </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n\r\n  handleOpen = () => {\r\n    this.props.onOpen()\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.props.onClose()\r\n  }\r\n\r\n  handleSave = () => {\r\n    this.props.onSave()\r\n  }\r\n}\r\n","import { Button, MenuItem, TextField, Typography } from '@material-ui/core'\r\nimport React, { Component } from 'react'\r\nimport { getDateFormatted } from '../../helpers/helpers'\r\nimport { updateUserInfo } from '../../services/userServices'\r\nimport CreateEntityModal from '../CreateEntityModal'\r\n\r\nconst genders = ['Male', 'Female']\r\nconst genderMap = { 'M': 'Male', 'F': 'Female' }\r\n\r\nexport default class UserForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n      isSaving: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.mode === 'update' && this.props.user) {\r\n      const { gender } = this.props.user\r\n      console.log(this.props.user)\r\n      this.setState({\r\n        ...this.props.user,\r\n        gender: genderMap[gender] || gender,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state)\r\n    return (\r\n      <div className='my-1'>\r\n        <Button style={this.props.style} onClick={this.handleOpen} >\r\n          <Typography variant='body1'>\r\n            {this.props.text}\r\n          </Typography>\r\n        </Button>\r\n        <CreateEntityModal\r\n          isOpen={this.state.isOpen}\r\n          isSaving={this.state.isSaving}\r\n          title={this.props.title}\r\n          onSave={this.handleSave}\r\n          onClose={this.handleClose}\r\n          onOpen={this.handleOpen}\r\n        >\r\n          {this.renderForm()}\r\n        </CreateEntityModal>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderForm = () => {\r\n    return (\r\n      <div className='flex-column mx-1 px-1' style={{ width: '90vw', maxWidth: '400px' }}>\r\n        <TextField className='mb-1' required variant='outlined' label='Email' type='email' name='email'\r\n              value={this.state.email} onChange={this.handleChange} />\r\n            <TextField className='mb-1' required variant='outlined' label='Username' type='text' name='username'\r\n              value={this.state.username} onChange={this.handleChange} />\r\n            {/* <TextField className='mb-1' required variant='outlined' label='Password' type='password' name='password'\r\n              value={this.state.password} onChange={this.handleChange} /> */}\r\n            <TextField className='mb-1' select variant='outlined' label='Gender' type='text' name='gender'\r\n              value={this.state.gender} onChange={this.handleChange} >\r\n              {genders.map(option =>\r\n                <MenuItem key={option} value={option}>\r\n                  {option}\r\n                </MenuItem>)}\r\n            </TextField>\r\n            <TextField className='mb-1' InputLabelProps={{ shrink: true }} variant='outlined' label='Birthdate'\r\n              type='date' name='birth_date' value={this.state.birth_date} onChange={this.handleChange} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    this.setState({\r\n      [ev.target.name]: ev.target.value\r\n    })\r\n  }\r\n\r\n  handleSave = async () => {\r\n    const { username, birth_date, gender, email, user_id } = this.state\r\n    this.setState({ isSaving: true })\r\n    const updated = {  username, birth_date, gender, email, user_id };\r\n    const status = await updateUserInfo(username, updated)\r\n    if (status) {\r\n      this.setState({ isSaving: false, saved: true })\r\n    }\r\n    this.handleClose()\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true })\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false })\r\n  }\r\n}\r\n","import { Button, TextField, Typography } from '@material-ui/core'\r\nimport React, { Component } from 'react'\r\nimport { updateGoal } from '../../services/userServices'\r\nimport CreateEntityModal from '../CreateEntityModal'\r\n\r\nexport default class GoalForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n      isSaving: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.mode === 'update' && this.props.data) {\r\n      console.log(this.props.data)\r\n      this.setState({\r\n        ...this.props.data,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state)\r\n    return (\r\n      <div className='my-1'>\r\n        <Button style={this.props.style} onClick={this.handleOpen} >\r\n          <Typography variant='body1'>\r\n            {this.props.text}\r\n          </Typography>\r\n        </Button>\r\n        <CreateEntityModal\r\n          isOpen={this.state.isOpen}\r\n          isSaving={this.state.isSaving}\r\n          title={this.props.title}\r\n          onSave={this.handleSave}\r\n          onClose={this.handleClose}\r\n          onOpen={this.handleOpen}\r\n        >\r\n          {this.renderForm()}\r\n        </CreateEntityModal>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderForm = () => {\r\n    return (\r\n      <div className='flex-column mx-1 px-1' style={{ width: '90vw', maxWidth: '400px' }}>\r\n        <TextField required className='mb-1' name='goal_book_count' label='Goal Book Count' type='number' variant='outlined'\r\n          value={this.state.goal_book_count} onChange={this.handleChange} />\r\n        <TextField required className='mb-1' InputLabelProps={{ shrink: true }} variant='outlined' label='Start Date'\r\n          type='date' name='goal_start_date' value={this.state.goal_start_date} onChange={this.handleChange} />\r\n        <TextField required className='mb-1' InputLabelProps={{ shrink: true }} variant='outlined' label='Start Date'\r\n          type='date' name='goal_end_date' value={this.state.goal_end_date} onChange={this.handleChange} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    this.setState({\r\n      [ev.target.name]: ev.target.value\r\n    })\r\n  }\r\n\r\n  handleSave = async () => {\r\n    const { username, goal_book_count, goal_start_date, goal_end_date } = this.state\r\n    this.setState({ isSaving: true })\r\n    const updated = { goal_book_count, goal_start_date, goal_end_date };\r\n    const status = await updateGoal(username, updated)\r\n    if (status) {\r\n      this.setState({ isSaving: false, saved: true })\r\n    }\r\n    this.handleClose()\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true })\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false })\r\n  }\r\n}\r\n","import axios from \"axios\"\r\n\r\nexport const getAuthorById = async authorId => {\r\n  return axios.get('/authors/' + authorId)\r\n  .then(res => {\r\n    if (res && res.data && res.data.status) {\r\n      return res.data.data\r\n    }\r\n    else return null\r\n  })\r\n  .catch(err => console.log(err))\r\n}\r\n\r\nexport const getAuthorBooks = async authorId => {\r\n  return axios.get('/authors/' + authorId + '/books')\r\n  .then(res => {\r\n    if (res && res.data && res.data.status) {\r\n      return res.data.data\r\n    }\r\n    else return null\r\n  })\r\n  .catch(err => console.log(err))\r\n}\r\n\r\nexport const searchAuthorsByName = (input) => {\r\n  return axios.post('/authors/search', {\"value\": input})\r\n  .then(res => {\r\n    if (res && res.data && res.data.status) {\r\n      return res.data.data\r\n    }\r\n    else return null\r\n  })\r\n  .catch(error => {\r\n    console.log(error)\r\n  })\r\n} \r\n\r\nexport const getBirthPlaceById = async id => {\r\n  return axios.get('/birthplaces/' + id)\r\n  .then(res => {\r\n    if (res && res.data && res.data.status) {\r\n      return res.data.data\r\n    }\r\n    else return null\r\n  })\r\n  .catch(err => console.log(err))\r\n}\r\n\r\nexport const searchBirthPlace = (input) => {\r\n  return axios.post('/birthplaces/search', {\"value\": input})\r\n  .then(res => {\r\n    if (res && res.data && res.data.status) {\r\n      return res.data.data\r\n    }\r\n    else return null\r\n  })\r\n  .catch(error => {\r\n    console.log(error)\r\n  })\r\n} \r\n\r\nexport const createAuthor = (data) => {\r\n  console.log(data)\r\n\treturn axios.post('/authors/create', { data })\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res && res.data) return res.data\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn null\r\n\t\t})\r\n}\r\n\r\nexport const updateAuthor = (authorId, data) => {\r\n\tconsole.log(data)\r\n\treturn axios.put('/authors/' + authorId + '/update', { data })\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res && res.data) return res.data\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn null\r\n\t\t})\r\n}\r\n\r\nexport const deleteAuthor = (author_id) => {\r\n\treturn axios.delete('/authors/delete', { data: { author_id } })\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res && res.data) return res.data\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn null\r\n\t\t})\r\n}\r\n\r\n\r\n","import axios from 'axios'\r\n\r\n// TODO: pagination when searching\r\nexport const searchBooksByTitle = input => {\r\n\treturn axios.post('/books/search', { \"value\": input })\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res && res.data && res.data.status) {\r\n\t\t\t\treturn res.data.data\r\n\t\t\t}\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n}\r\n\r\nexport const getBookById = (bookId) => {\r\n\treturn axios.get('books/' + bookId)\r\n\t\t.then(res => {\r\n\t\t\tif (res && res.data && res.data.status) {\r\n\t\t\t\treturn res.data.data\r\n\t\t\t}\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => console.log(err))\r\n}\r\n\r\nexport const createBook = (data) => {\r\n  console.log(data)\r\n\treturn axios.post('/books/create', { data })\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res && res.data) return res.data\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn null\r\n\t\t})\r\n}\r\n\r\n\r\nexport const updateBook = (bookId, data) => {\r\n\tconsole.log(data)\r\n\treturn axios.put('/books/' + bookId + '/update', { data })\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res && res.data) return res.data\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn null\r\n\t\t})\r\n}\r\n\r\nexport const deleteBook = (book_id) => {\r\n\tconsole.log(book_id)\r\n\treturn axios.delete('/books/delete', { data: { book_id } })\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res && res.data) return res.data\r\n\t\t\telse return null\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn null\r\n\t\t})\r\n}\r\n\r\n","import { Button, Dialog, DialogActions, DialogContent, DialogTitle, Typography } from '@material-ui/core'\r\nimport { red } from '@material-ui/core/colors';\r\nimport React, { Component } from 'react'\r\nimport { deleteAuthor } from '../services/authorServices';\r\nimport { deleteBook } from '../services/bookServices';\r\nimport { deleteUser } from '../services/userServices';\r\nimport LoadingIcon from './LoadingIcon';\r\n\r\nexport default class DeleteModalButton extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n      isSaving: false,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { text } = this.props;\r\n    return (\r\n      <div className='my-1'>\r\n        <Button style={this.props.style} onClick={this.handleOpen} color='secondary'>\r\n          <Typography variant='body1'>\r\n            {text}\r\n          </Typography>\r\n        </Button>\r\n        {this.renderDeleteConfirmModal()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderDeleteConfirmModal = () => {\r\n    const { isOpen, isSaving } = this.state;\r\n    const { title, } = this.props;\r\n\r\n    return (\r\n      <Dialog\r\n        open={isOpen}\r\n        onClose={this.handleClose}\r\n        maxWidth='md' >\r\n        <DialogTitle>{title}</DialogTitle>\r\n        <DialogContent>\r\n          <Typography className='mb-1 mx-1' variant='body1'>Are you sure you want to delete this?</Typography>\r\n          {this.renderItem()}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={this.handleDeleteConfirm} color=\"secondary\">\r\n            {isSaving ? <LoadingIcon size='sm' color={red[500]} /> : \"Delete\"}\r\n          </Button>\r\n          <Button onClick={this.handleClose} color=\"primary\" autoFocus>\r\n            Cancel\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n  }\r\n\r\n  renderItem = () => {\r\n    const { mode, item } = this.props;\r\n    const itemName = mode === 'book' ? item.title : mode === 'author' ? item.name : mode === 'user' ? item.username : null\r\n    const secondaryInfo = mode === 'book' ? \"Publish date: \" + item.publish_date : mode === 'author' ? \"From: \" + item.birthplace : mode === 'user' ? item.email : null\r\n    return (\r\n      <div className='flex-column ai-center my-1'>\r\n        <Typography variant='h6'>{itemName}</Typography>\r\n        <Typography variant='body1'>{secondaryInfo}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleDeleteConfirm = async () => {\r\n    console.log(this.props)\r\n    this.setState({isSaving: true})\r\n    const { mode, item } = this.props;\r\n    const id = mode === 'book' ? item.book_id : mode === 'author' ? item.author_id : mode === 'user' ? item.user_id : null\r\n    console.log(id)\r\n    // delete by id\r\n    const response = mode === 'book' ? await deleteBook(id) : mode === 'author' ? await deleteAuthor(id) : mode === 'user' ? await deleteUser(id) : null\r\n    if(response) {\r\n      mode === 'user' ? this.props.history.push('/login') : this.props.history.push('/search')\r\n    }\r\n    this.handleClose()\r\n  } \r\n  \r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true })\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false, isSaving: false })\r\n  }\r\n}\r\n","import { CircularProgress, Grid, Link, TextField, Typography } from '@material-ui/core'\r\nimport React, { Component } from 'react'\r\nimport RoundedImage from '../components/RoundedImage'\r\nimport pp from '../images/profile_picture.jpg'\r\nimport { getAllLists, getUserWithUsername, updateGoal } from '../services/userServices'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { connect } from 'react-redux'\r\nimport { checkAuthorization, mapStateToProps } from '../helpers/helpers.js'\r\nimport { updateAllLists } from '../actions/userListsAction'\r\nimport CreateEntityModal from '../components/CreateEntityModal'\r\nimport { green } from '@material-ui/core/colors'\r\nimport UserForm from '../components/forms/UserForm'\r\nimport GoalForm from '../components/forms/GoalForm'\r\nimport DeleteModalButton from '../components/DeleteModalButton'\r\n\r\nclass ProfilePage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      visitedUser: null,    // user who's profile is being visited now\r\n      visitedLists: {},\r\n      error: false,\r\n      errorMessage: '',\r\n      isLoading: true,\r\n      isUsersOwnProfile: false,\r\n\r\n      // goals\r\n      goalsModalOpen: false,\r\n      goalSaving: false,\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    console.log(\"comp did mount props: \", this.props)\r\n    if (this.props.isAuthenticated) {\r\n      this.fetchUserData()\r\n      this.fetchListsData()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log(\"comp did update\")\r\n    if (!prevProps.isAuthenticated && this.props.isAuthenticated) {\r\n      this.fetchUserData()\r\n      this.fetchListsData()\r\n    }\r\n    // if visited user is changed\r\n    if (prevState.visitedUser && prevState.visitedUser.username !== this.getParams().username) {\r\n      this.fetchUserData()\r\n      this.fetchListsData()\r\n    }\r\n  }\r\n\r\n  fetchUserData = async () => {\r\n    console.log(\"getting visited user data...\")\r\n    const visitedUsername = this.getParams().username\r\n    const defaultMessage = 'There is no such a user. Maybe typo in url?'\r\n\r\n    // if this page is authenticated user's profile\r\n    if (visitedUsername === this.props.user.username && !this.state.isUsersOwnProfile) {\r\n      this.setState({ isLoading: false, visitedUser: this.props.user, isUsersOwnProfile: true })\r\n      return\r\n    }\r\n    // get visited user's data\r\n    const visitedUser = await getUserWithUsername(visitedUsername)\r\n    if (!visitedUser) {\r\n      this.setState({ error: true, errorMessage: this.props.errorMessage || defaultMessage })\r\n    }\r\n    this.setState({ isLoading: false, visitedUser })\r\n  }\r\n\r\n  fetchListsData = async () => {\r\n    const visitedUsername = this.getParams().username\r\n    const visitedLists = await getAllLists(visitedUsername)\r\n    if (visitedLists) {\r\n      if (visitedUsername === this.props.user.username) {\r\n        this.props.dispatch(updateAllLists(visitedLists))\r\n      }\r\n      this.setState({ visitedLists })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { visitedUser, isLoading, isUsersOwnProfile } = this.state;\r\n    const { isAuthenticated, errorMessage } = this.props\r\n    console.log(\"visited user: \", visitedUser)\r\n    console.log(\"visited user lists: \", this.state.visitedLists)\r\n    console.log(this.state)\r\n    console.log(\"props: \", this.props)\r\n    console.log(this.getParams())\r\n\r\n    if (!isAuthenticated && !isLoading) {\r\n      console.log(\"redirect to login\")\r\n      return this.props.history.push('/login')\r\n    }\r\n\r\n    if (!visitedUser && !isLoading) {\r\n      return (\r\n        <div className='page-container jc-center'>\r\n          <Alert severity='error'>{errorMessage || \"There is no such user: \" + this.getParams().username}</Alert>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div className='page-container jc-center ai-center'>\r\n        {\r\n          isLoading ? <CircularProgress color=\"primary\" /> :\r\n            <Grid container spacing={2} direction='row'>\r\n              <Grid item xs={12} sm={12} md={6} lg={6} xl={6}>\r\n                {this.renderUserInfo()}\r\n                {this.renderGoalInfo()}\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                {this.renderLists()}\r\n              </Grid>\r\n            </Grid>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // renderer methods\r\n\r\n  renderUserInfo = () => {\r\n    const { visitedUser } = this.state;\r\n    if (!visitedUser) return null;\r\n    const { username, email, gender, birth_date } = visitedUser\r\n    return (\r\n      <div className='flex-column ai-center'>\r\n        <RoundedImage height={100} src={pp} alt={username} />\r\n        <Typography variant='h4'>{username}</Typography>\r\n        <Typography variant='body1'>{email}</Typography>\r\n        <Typography variant='body1'>{gender}</Typography>\r\n        <Typography variant='body1'>{birth_date}</Typography>\r\n        {\r\n          !this.state.isUsersOwnProfile ? null :\r\n            <div>\r\n              <UserForm mode='update' user={this.props.user} title='Edit Author' style={{ color: green[500] }} text='Edit Info' />\r\n              <DeleteModalButton mode='user' item={this.props.user} title='Confirm Delete' text='Delete Your Account' history={this.props.history} />\r\n            </div>\r\n        }\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderLists = () => {\r\n    const { favorites, haveRead, toRead } = this.state.isUsersOwnProfile ? this.props : this.state.visitedLists\r\n\r\n    let hasData = (list) => list && list.length > 0\r\n    return (\r\n      <div className='flex-column ai-center'>\r\n        <div className='ai-fs'>\r\n          <Typography variant='h5'>\r\n            Favorites\r\n        </Typography>\r\n          {\r\n            !hasData(favorites) ?\r\n              <Typography variant='body2'>No books in the list.</Typography>\r\n              :\r\n              <div className='flex-column ai-fs'>\r\n                {favorites.map(book => {\r\n                  return <Typography className='cursor-pointer' component={Link} color='inherit' onClick={() => this.props.history.push('/books/' + book.book_id)} variant='body1'>{book.title}</Typography>\r\n                })}\r\n              </div>\r\n          }\r\n          <Typography variant='h5'>\r\n            Wants To Read\r\n        </Typography>\r\n          {\r\n            !hasData(toRead) ?\r\n              <Typography variant='body2'>No books in the list.</Typography>\r\n              :\r\n              <div className='flex-column ai-fs'>\r\n                {toRead.map(book => {\r\n                  return <Typography className='cursor-pointer' component={Link} color='inherit' onClick={() => this.props.history.push('/books/' + book.book_id)} variant='body1'>{book.title}</Typography>\r\n                })}\r\n              </div>\r\n          }\r\n          <Typography variant='h5'>\r\n            Have Read\r\n        </Typography>\r\n          {\r\n            !hasData(haveRead) ?\r\n              <Typography variant='body2'>No books in the list.</Typography>\r\n              :\r\n              <div className='flex-column ai-fs'>\r\n                {haveRead.map(book => {\r\n                  return <Typography className='cursor-pointer' component={Link} color='inherit' onClick={() => this.props.history.push('/books/' + book.book_id)} variant='body1'>{book.title}</Typography>\r\n                })}\r\n              </div>\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderGoalInfo = () => {\r\n    const { visitedUser, isUsersOwnProfile } = this.state;\r\n    if (!visitedUser) return null\r\n    const { goal_book_count, goal_start_date, goal_end_date } = visitedUser\r\n    return (\r\n      <div className='flex-column ai-center'>\r\n        <Typography variant='h5'>\r\n          Goals\r\n        </Typography>\r\n        {\r\n          !goal_book_count ? <Typography variant='body2'>No goals</Typography>\r\n            :\r\n            <div>\r\n              <Typography variant='body1'>\r\n                Goal Book Count: {goal_book_count}\r\n              </Typography>\r\n              <Typography variant='body1'>\r\n                Goal Start Date: {goal_start_date}\r\n              </Typography>\r\n              <Typography variant='body1'>\r\n                Goal End Date: {goal_end_date}\r\n              </Typography>\r\n            </div>\r\n        }\r\n        {\r\n          !isUsersOwnProfile ? null :\r\n            <GoalForm mode='update' data={this.state.visitedUser} title='Edit Goal' style={{ color: green[500] }} text='Edit Goal' />\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    this.setState({\r\n      [ev.target.name]: ev.target.value\r\n    })\r\n  }\r\n\r\n  getParams = () => {\r\n    return this.props.match.params\r\n  }\r\n\r\n  responseReceived = () => {\r\n    return this.props.isAuthenticated || this.props.error || this.props.user.username\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(ProfilePage)","export default __webpack_public_path__ + \"static/media/logo_orange.661ebedf.png\";","import React, { Component } from 'react'\r\nimport { Button, Typography } from '@material-ui/core'\r\nimport { connect } from 'react-redux'\r\nimport logo from '../images/logo_orange.png'\r\n\r\nclass HomePage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n\r\n    }\r\n  }\r\n  render() {\r\n    const { isAuthenticated, user } = this.props\r\n    console.log(this.props)\r\n    return (\r\n      <div className='page-container jc-center ai-center flex-column'>\r\n        <img style={{width: 200, height:'auto'}} src={logo} alt='ReadHead' />\r\n        <Typography variant='h1' >\r\n          Welcome!\r\n        </Typography>\r\n        {\r\n          isAuthenticated && user ?\r\n            <Typography variant='h5'>\r\n              Good to see you again, {user.username}\r\n            </Typography>\r\n            :\r\n            <div className='my-1 flex-column'>\r\n              <Button className='my-1' variant='contained' color='primary' onClick={this.handleLoginClick} >\r\n                Login\r\n              </Button>\r\n              <Button className='my-1' variant='contained' color='primary' onClick={this.handleRegisterClick} >\r\n                Register\r\n              </Button>\r\n            </div>\r\n        }\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleLoginClick = (e) => {\r\n    this.props.history.push('/login')\r\n  }\r\n\r\n  handleRegisterClick = (e) => {\r\n    this.props.history.push('/register')\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(\"home maps to props state: \", state)\r\n  const { isAuthenticated, error, errorMessage, user } = state.auth;\r\n  return {\r\n    isAuthenticated,\r\n    error,\r\n    errorMessage,\r\n    user\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(HomePage)\r\n","import { IconButton, Paper, TextField, Typography, Link, ButtonBase } from '@material-ui/core'\r\nimport { green, yellow, red, grey } from '@material-ui/core/colors'\r\nimport React, { PureComponent } from 'react'\r\nimport { searchBooksByTitle } from '../services/bookServices'\r\nimport { Favorite, Star, CheckCircle } from '@material-ui/icons';\r\nimport { mapStateToProps } from '../helpers/helpers.js'\r\nimport { connect } from 'react-redux';\r\nimport { getAllLists } from '../services/userServices';\r\nimport { addToList, deleteFromList, updateAllLists, UPDATE_LIST_OPERATIONS } from '../actions/userListsAction';\r\n\r\nconst { UPDATE_FAVORITES, UPDATE_HAVE_READ, UPDATE_TO_READ } = UPDATE_LIST_OPERATIONS\r\n\r\nclass ListItem extends PureComponent {\r\n  render() {\r\n    const { dispatch } = this.props; // redux props\r\n    const { mode, item, username, isRead, isWanted, isFavorite, icons } = this.props // props from upper component\r\n    return (\r\n      <Paper key={item.book_id} elevation={3} className='flex-row mb-1 px-1 py-1 jc-sb ai-fs cursor-pointer' >\r\n        {\r\n          mode === 'book' ?\r\n            <div key={item.book_id + '_info'} className='flex-column' style={{ width: '70%', }}>\r\n              <Typography component={Link} color='inherit' onClick={() => this.props.history.push('/books/' + item.book_id)} variant='h5' >{item.title}</Typography>\r\n              <Typography component={Link} color='inherit' onClick={() => this.props.history.push('/authors/' + item.author_id)} variant='subtitle1'>{item.name}</Typography>\r\n              <Typography variant='subtitle2'>{item.publish_date} - {item.pages} pages</Typography>\r\n            </div>\r\n            :\r\n            <div className='flex-column' style={{ width: '70%', }}>\r\n              <Typography component={Link} color='inherit' onClick={() => this.props.history.push('/authors/' + item.author_id)} variant='h5' >{item.name}</Typography>\r\n            </div>\r\n        }\r\n        {\r\n          !icons ? null :\r\n            <div key={item.book_id + '_icons'} className='flex-row' style={{ width: '30%', }}>\r\n              <IconButton key={item.book_id + '_icons_read'} onClick={() => !isRead ? dispatch(addToList(username, item.book_id, UPDATE_HAVE_READ))\r\n                : dispatch(deleteFromList(username, item.book_id, UPDATE_HAVE_READ))}>\r\n                <div className='flex-column ai-center' >\r\n                  <CheckCircle style={{ color: isRead ? green[500] : grey[500] }} />\r\n                  <Typography variant='subtitle2'>Read</Typography>\r\n                </div>\r\n              </IconButton>\r\n              <IconButton key={item.book_id + '_icons_wanted'} onClick={() => !isWanted ? dispatch(addToList(username, item.book_id, UPDATE_TO_READ))\r\n                : dispatch(deleteFromList(username, item.book_id, UPDATE_TO_READ))}>\r\n                <div className='flex-column ai-center'>\r\n                  <Favorite style={{ color: isWanted ? red[500] : grey[500] }} />\r\n                  <Typography variant='subtitle2'>Want To</Typography>\r\n                </div>\r\n              </IconButton>\r\n              <IconButton key={item.book_id + '_icons_fav'} onClick={() => this.handleIconClick(UPDATE_FAVORITES, isFavorite)}>\r\n                <div className='flex-column ai-center'>\r\n                  <Star style={{ color: isFavorite ? yellow[500] : grey[500] }} />\r\n                  <Typography variant='subtitle2'>Favorite</Typography>\r\n                </div>\r\n              </IconButton>\r\n            </div>\r\n        }\r\n      </Paper>\r\n    )\r\n  }\r\n\r\n  handleIconClick = (actionName, isInList) => {\r\n    // if not in a list, add book to the list\r\n    const id = this.props.mode === 'book' ? this.props.item.book_id : this.props.item.author_id \r\n    if (!isInList) {\r\n      this.props.dispatch(addToList(this.props.username, id, actionName))\r\n    }\r\n    // else, delete book from list\r\n    else {\r\n      this.props.dispatch(deleteFromList(this.props.username, id, actionName))\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(null)(ListItem)","import { Button, TextField, Typography } from '@material-ui/core'\r\nimport { Autocomplete } from '@material-ui/lab'\r\nimport React, { Component } from 'react'\r\nimport { searchAuthorsByName } from '../../services/authorServices'\r\nimport { createBook, updateBook } from '../../services/bookServices'\r\nimport CreateEntityModal from '../CreateEntityModal'\r\n\r\n\r\nexport default class BookForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n      isSaving: false,\r\n      authorInput: '',\r\n      authorResults: [],\r\n      author: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(this.props.book)\r\n    if (this.props.mode === 'update' && this.props.book) {\r\n      const { author_id, name } = this.props.book\r\n      this.setState({\r\n        ...this.props.book,\r\n        author: { author_id, name }\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='my-1'>\r\n        <Button style={this.props.style} onClick={this.handleOpen} >\r\n          <Typography variant='body1'>\r\n            {this.props.text}\r\n          </Typography>\r\n        </Button>\r\n        <CreateEntityModal\r\n          isOpen={this.state.isOpen}\r\n          isSaving={this.state.isSaving}\r\n          title={this.props.title}\r\n          onSave={this.handleSave}\r\n          onClose={this.handleClose}\r\n          onOpen={this.handleOpen}\r\n        >\r\n          {this.renderForm()}\r\n        </CreateEntityModal>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderForm = () => {\r\n    return (\r\n      <div className='flex-column mx-1 px-1' style={{ width: '90vw', maxWidth: '400px' }}>\r\n        <TextField className='mb-1' name='title' label='Book Title' type='text' variant='outlined'\r\n          value={this.state.title} onChange={this.handleChange} />\r\n        <Autocomplete\r\n          value={this.state.author}\r\n          onChange={(ev, newVal) => this.setState({ author: newVal })}\r\n          inputValue={this.state.authorInput}\r\n          onInputChange={(ev, newVal) => this.handleAuthorInputChange(newVal)}\r\n          options={this.state.authorResults}\r\n          getOptionLabel={(option) => option.name}\r\n          style={{ width: '300' }}\r\n          renderInput={(params) => <TextField {...params} label=\"Author\" placeholder='start typing name...' type='text' variant=\"outlined\" />}\r\n        />\r\n        <TextField className='mb-1' variant='outlined' label='Pages' type='number' name='pages'\r\n          value={this.state.pages} onChange={this.handleChange} />\r\n        <TextField required className='mb-1' InputLabelProps={{ shrink: true }} variant='outlined' label='Publish Date'\r\n          type='date' name='publish_date' value={this.state.publish_date} onChange={this.handleChange} />\r\n        <TextField className='mb-1' name='publish_place' label='Publish Place' type='text' variant='outlined'\r\n          value={this.state.publish_place} onChange={this.handleChange} />\r\n        <TextField className='mb-1' name='publisher' label='Publisher' type='text' variant='outlined'\r\n          value={this.state.publisher} onChange={this.handleChange} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  searchAuthors = async (input) => {\r\n    if (input.length < 4) {\r\n      this.setState({ authorResults: [] })\r\n    }\r\n    const result = await searchAuthorsByName(input)\r\n    if (result) {\r\n      this.setState({ authorResults: result })\r\n    }\r\n  }\r\n\r\n  handleAuthorInputChange = (input) => {\r\n    this.setState({ authorInput: input });\r\n    this.searchAuthors(input)\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    this.setState({\r\n      [ev.target.name]: ev.target.value\r\n    })\r\n  }\r\n\r\n  handleSave = async () => {\r\n    const { title, publish_date, pages, book_id, author_id, author, publish_place, publisher } = this.state\r\n    const { mode } = this.props\r\n    this.setState({ isSaving: true })\r\n    let data = { title, publish_date, pages, publish_place, publisher }; // only book related data\r\n    // if author is changed, add author_id to the data\r\n    // backend server only updates new author if author id is sent\r\n    if (author_id !== author.author_id) data = { ...data, 'author_id': author.author_id }\r\n    const response = mode === 'update' ? await updateBook(book_id, data) : await createBook(data)\r\n    console.log(response)\r\n    if (response && response.status) {\r\n      this.setState({ saved: true })\r\n      if (mode === 'create' && response.book_id) {\r\n        this.props.history.push('/books/' + response.book_id)\r\n      }\r\n    }\r\n    this.handleClose()\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true })\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false })\r\n  }\r\n}\r\n","import { Button, MenuItem, TextField, Typography } from '@material-ui/core'\r\nimport { Autocomplete } from '@material-ui/lab'\r\nimport React, { Component } from 'react'\r\nimport { getDateFormatted } from '../../helpers/helpers'\r\nimport { createAuthor, searchBirthPlace, updateAuthor } from '../../services/authorServices'\r\nimport CreateEntityModal from '../CreateEntityModal'\r\n\r\nconst genders = ['Male', 'Female']\r\nconst genderMap = { 'M': 'Male', 'F': 'Female' }\r\n\r\nexport default class AuthorForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n      isSaving: false,\r\n      bpInput: '',\r\n      bpResults: [],\r\n      birthPlace: null, // {birthplace: string, birthplace_id: int}\r\n      gender: '',\r\n      name: '',\r\n      birth_date: null,\r\n      death_date: null,\r\n      author_id: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.mode === 'update' && this.props.author) {\r\n      const { birthplace, birthplace_id, gender } = this.props.author\r\n      this.setState({\r\n        ...this.props.author,\r\n        birthPlace: { birthplace, birthplace_id },\r\n        gender: genderMap[gender] || gender,\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!prevState.isOpen && this.state.isOpen) {\r\n      this.fetchBirthPlaces()\r\n    }\r\n  }\r\n\r\n  fetchBirthPlaces = async () => {\r\n    const result = await searchBirthPlace('')\r\n    if (result) {\r\n      this.setState({ bpResults: result })\r\n    }\r\n  }\r\n\r\n  // TODO: if saved print succes message\r\n  render() {\r\n    return (\r\n      <div className='my-1'>\r\n        <Button style={this.props.style} onClick={this.handleOpen} >\r\n          <Typography variant='body1'>\r\n            {this.props.text}\r\n          </Typography>\r\n        </Button>\r\n        <CreateEntityModal\r\n          isOpen={this.state.isOpen}\r\n          isSaving={this.state.isSaving}\r\n          title={this.props.title}\r\n          onSave={this.handleSave}\r\n          onClose={this.handleClose}\r\n          onOpen={this.handleOpen}\r\n        >\r\n          {this.renderForm()}\r\n        </CreateEntityModal>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderForm = () => {\r\n    return (\r\n      <div className='flex-column mx-1 px-1' style={{ width: '90vw', maxWidth: '400px' }}>\r\n        <TextField required className='mb-1' name='name' label='Author Name' type='text' variant='outlined'\r\n          value={this.state.name} onChange={this.handleChange} />\r\n        <Autocomplete\r\n          value={this.state.birthPlace}\r\n          onChange={(ev, newVal) => this.setState({ birthPlace: newVal })}\r\n          inputValue={this.state.bpInput}\r\n          onInputChange={(ev, newVal) => this.setState({ bpInput: newVal })}\r\n          options={this.state.bpResults}\r\n          getOptionLabel={(option) => option.birthplace}\r\n          style={{ width: '300' }}\r\n          renderInput={(params) => <TextField {...params} label=\"Birth Place\" type='text' variant=\"outlined\" />}\r\n        />\r\n        <TextField className='mb-1' select variant='outlined' label='Gender' type='text' name='gender'\r\n          value={this.state.gender} onChange={this.handleChange} >\r\n          {genders.map(option =>\r\n            <MenuItem key={option} value={option}>\r\n              {option}\r\n            </MenuItem>)}\r\n        </TextField>\r\n        <TextField required className='mb-1' InputLabelProps={{ shrink: true }} variant='outlined' label='Birth Date'\r\n          type='date' name='birth_date' value={this.state.birth_date} onChange={this.handleChange} />\r\n        <TextField required className='mb-1' InputLabelProps={{ shrink: true }} variant='outlined' label='Death Date'\r\n          type='date' name='death_date' value={this.state.death_date} onChange={this.handleChange} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderBirthPlaces = () => {\r\n    const results = this.state.bpResults\r\n    if (!results) return\r\n\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    this.setState({\r\n      [ev.target.name]: ev.target.value\r\n    })\r\n  }\r\n\r\n  handleSave = async () => {\r\n    const { name, birth_date, death_date, gender, author_id } = this.state\r\n    const { birthplace_id } = this.state.birthPlace\r\n    const { mode } = this.props\r\n    this.setState({ isSaving: true })\r\n    const data = { name, birthplace_id, birth_date, death_date, gender };\r\n    const response = mode === 'update' ? await updateAuthor(author_id, data) : await createAuthor(data)\r\n    console.log(response)\r\n    if (response && response.status) {\r\n      this.setState({ saved: true })\r\n      if (mode === 'create' && response.author_id) {\r\n        this.props.history.push('/authors/' + response.author_id)\r\n      }\r\n    }\r\n    this.handleClose()\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true })\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false, isSaving: false })\r\n  }\r\n}\r\n","import { TextField, Typography, Link, Radio, FormControl, FormControlLabel, RadioGroup, } from '@material-ui/core'\r\nimport { green } from '@material-ui/core/colors'\r\nimport React, { Component } from 'react'\r\nimport { searchBooksByTitle } from '../services/bookServices'\r\nimport { mapStateToProps } from '../helpers/helpers.js'\r\nimport { connect } from 'react-redux';\r\nimport { getAllLists } from '../services/userServices';\r\nimport { updateAllLists } from '../actions/userListsAction';\r\nimport ListItem from '../components/ListItem';\r\nimport { searchAuthorsByName } from '../services/authorServices'\r\nimport BookForm from '../components/forms/BookForm'\r\nimport AuthorForm from '../components/forms/AuthorForm'\r\n\r\n\r\nconst placeholders = {\r\n  'books': 'start typing a title...',\r\n  'authors': 'start typing an author\\'s name',\r\n}\r\n\r\nclass SearchPage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      search: '',\r\n      results: [],\r\n      searchMode: 'books',\r\n    }\r\n  }\r\n\r\n  // fired when new props arrive\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // check if user prop is updated. if updated, fetch user's lists\r\n    if (!prevProps.user.username && this.props.user.username && this.props.isAuthenticated) {\r\n      this.fetchLists()\r\n    }\r\n  }\r\n\r\n  fetchLists = async () => {\r\n    const listsData = await getAllLists(this.props.user.username)\r\n    if (listsData) {\r\n      this.props.dispatch(updateAllLists(listsData))\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isAuthenticated } = this.props\r\n    const { searchMode } = this.state\r\n    // if not authenticated user, redirect to login\r\n    if (!isAuthenticated) {\r\n      this.props.history.push('/login')\r\n    }\r\n    return (\r\n      <div className='page-container ai-center flex-column'>\r\n        {\r\n          !isAuthenticated ? \"Oooppss! You were never here...\" : null\r\n        }\r\n        <div>\r\n          <Typography variant='h3' className='mb-1'>Search</Typography>\r\n        </div>\r\n        <TextField style={{ width: '80%', }} className='mb-1' variant='outlined' label='Search' type='Search Books'\r\n          placeholder={placeholders[searchMode]} value={this.state.search} onChange={ev => this.handleSearchChange(ev.target.value)} />\r\n        <FormControl component=\"fieldset\">\r\n          <RadioGroup row name=\"searchModeSelect\" value={searchMode} onChange={(ev) => this.handleSearchModeChange(ev.target.value)}>\r\n            <FormControlLabel value=\"books\" control={<Radio color='primary' />} label=\"Books\" />\r\n            <FormControlLabel value=\"authors\" control={<Radio color='primary' />} label=\"Authors\" />\r\n          </RadioGroup>\r\n        </FormControl>\r\n        {this.renderAddItem()}\r\n        {this.renderResults()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderResults = () => {\r\n    if (!this.state.results) return\r\n    if (this.state.results.length < 1) return\r\n    console.log(this.state.results)\r\n    const { username } = this.props.user;\r\n    const { searchMode } = this.state\r\n    console.log(searchMode)\r\n    return (\r\n      <div className='my-1 flex-column' style={{ width: '80%' }}>\r\n        {searchMode === 'books' ? this.state.results.map(book => {\r\n          const isFavorite = this.props.favorites.some(b => b.book_id === book.book_id)\r\n          const isRead = this.props.haveRead.some(b => b.book_id === book.book_id)\r\n          const isWanted = this.props.toRead.some(b => b.book_id === book.book_id)\r\n          return (\r\n            <ListItem\r\n              mode='book'\r\n              username={username}\r\n              isRead={isRead}\r\n              isFavorite={isFavorite}\r\n              isWanted={isWanted}\r\n              item={book}\r\n              history={this.props.history}\r\n              icons={true} />\r\n          )\r\n        })\r\n          : searchMode === 'authors' ?\r\n            this.state.results.map(author => {\r\n              return (\r\n                <ListItem\r\n                  mode='author'\r\n                  item={author}\r\n                  username={username}\r\n                  history={this.props.history}\r\n                  icons={false} />\r\n              )\r\n            })\r\n            : null\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderAddItem = () => {\r\n    const searchable = this.state.search.length > 3\r\n    if (!searchable) return null\r\n    const title = \"Couldn't find? Add another one instead!\";\r\n    return (\r\n      this.state.searchMode === 'books' ?\r\n        <BookForm history={this.props.history} mode='create' title=\"Add Book\" style={{ color: green[500] }} text={title} />\r\n        : this.state.searchMode === 'authors' ?\r\n          <AuthorForm history={this.props.history} mode='create' title=\"Add Author\" style={{ color: green[500] }} text={title} />\r\n          : null\r\n    )\r\n  }\r\n\r\n  handleSearchModeChange = (searchMode) => {\r\n    console.log(searchMode)\r\n    this.setState({ searchMode, results: [], search: '' })\r\n  }\r\n\r\n  handleSearchChange = input => {\r\n    this.setState({ search: input })\r\n    this.fetchResults(input)\r\n  }\r\n\r\n  fetchResults = async input => {\r\n    if (input.trim().length < 5) {\r\n      this.setState({ results: []})\r\n      return\r\n    }\r\n    const results = this.state.searchMode === 'books' ? await searchBooksByTitle(input.trim()) : await searchAuthorsByName(input.trim())\r\n    if (!results) {\r\n      this.setState({ error: true, errorMessage: 'An error happened. Please try again later.', results: [] })\r\n    }\r\n    this.setState({ results })\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(SearchPage)","import { CircularProgress, Grid, Link, Typography } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport React, { Component } from 'react'\r\nimport { getBookById } from '../services/bookServices'\r\nimport BookForm from '../components/forms/BookForm'\r\nimport { green } from '@material-ui/core/colors'\r\nimport DeleteModalButton from '../components/DeleteModalButton'\r\n\r\n\r\nexport default class BookPage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isLoading: true,\r\n      book: null\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    console.log(this.props)\r\n    this.fetchBookData()\r\n  }\r\n\r\n  fetchBookData = async () => {\r\n    const book = await getBookById(this.getParams().bookId)\r\n    if (book) {\r\n      this.setState({ book, isLoading: false })\r\n    }\r\n    else {\r\n      this.setState({ isLoading: false, error: true, errorMessage: \"An error occured.\" })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { book, isLoading, error, errorMessage } = this.state;\r\n    const { isAuthenticated } = this.props;\r\n    console.log(book)\r\n\r\n    return (\r\n      <div className='page-container jc-center ai-center'>\r\n        {\r\n          !isLoading ? null :\r\n            <div className='page-container jc-center ai-center'>\r\n              <CircularProgress color=\"primary\" />\r\n            </div>\r\n        }\r\n        { !book && !isLoading ?\r\n          <Alert severity='error'>Could not find book.</Alert> :\r\n          <div>\r\n            {this.renderBook()}\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderBook = () => {\r\n    if (!this.state.book) return null\r\n    const { book_id, title, publish_date, pages, name, author_id, publish_place, publisher } = this.state.book\r\n    return (\r\n      <div key={book_id}>\r\n        <Typography variant='h3'>{title}</Typography>\r\n        <Typography className='cursor-pointer' component={Link} color='inherit' onClick={() => this.props.history.push('/authors/' + author_id)}  variant='h4'>By {name}</Typography>\r\n        <Typography variant='h5'>{pages} pages</Typography>\r\n        <Typography variant='h6'>Published at: {publish_date} {publish_place}}</Typography>\r\n        <Typography variant='h6'>Publisher: {publisher || \"unknown\"}</Typography>\r\n        <BookForm mode='update' book={this.state.book} title='Edit Book' style={{color: green[500]}} text='Edit Book' />\r\n        <hr/>\r\n        <DeleteModalButton mode='book' item={this.state.book} title='Confirm Delete' text='Delete This Book' history={this.props.history} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  getParams = () => {\r\n    console.log(this.props.match.params)\r\n    return this.props.match.params\r\n  }\r\n}\r\n\r\n","import { Button, CircularProgress, Divider, Grid, Link, Typography } from '@material-ui/core'\r\nimport { green } from '@material-ui/core/colors'\r\nimport { Alert } from '@material-ui/lab'\r\nimport React, { Component } from 'react'\r\nimport DeleteModalButton from '../components/DeleteModalButton'\r\nimport AuthorForm from '../components/forms/AuthorForm'\r\nimport { getAuthorBooks, getAuthorById } from '../services/authorServices'\r\n\r\nconst genders = { 'M': 'Male', 'F': 'Female' }\r\n\r\nexport default class AuthorPage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isLoading: true,\r\n      author: null,\r\n      books: null,\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    console.log(this.props)\r\n    this.fetchAuthorData()\r\n    this.fetchAuthorBooks()\r\n  }\r\n\r\n  fetchAuthorData = async () => {\r\n    const author = await getAuthorById(this.getParams().authorId)\r\n    if (author) {\r\n      this.setState({ author, isLoading: false })\r\n    }\r\n    else {\r\n      this.setState({ isLoading: false, error: true, errorMessage: \"An error occured.\" })\r\n    }\r\n  }\r\n\r\n  fetchAuthorBooks = async () => {\r\n    const books = await getAuthorBooks(this.getParams().authorId)\r\n    if (books) {\r\n      this.setState({ books, isLoading: false })\r\n    }\r\n    else {\r\n      this.setState({ isLoading: false, error: true, errorMessage: \"An error occured.\" })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { author, isLoading, error, errorMessage } = this.state;\r\n    const { isAuthenticated } = this.props;\r\n    console.log(author)\r\n\r\n    return (\r\n      <div className='page-container jc-center ai-center'>\r\n        {\r\n          !isLoading ? null :\r\n            <div className='page-container jc-center ai-center'>\r\n              <CircularProgress color=\"primary\" />\r\n            </div>\r\n        }\r\n        { !author && !isLoading ?\r\n          <Alert severity='error'>Could not find author.</Alert> :\r\n          <Grid container spacing={5} className='mx-1'>\r\n            {this.renderAuthor()}\r\n            {this.renderBooks()}\r\n          </Grid>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderAuthor = () => {\r\n    if (!this.state.author) return null\r\n    const { author_id, name, birthplace, gender, birth_date, death_date } = this.state.author\r\n    return (\r\n      <Grid item xs={12} md={6} >\r\n        <Typography variant='h3'>{name}</Typography>\r\n        <Typography variant='h4'>Born in {birthplace}</Typography>\r\n        <Typography variant='h5'>{genders[gender.trim()] || gender.trim()}</Typography>\r\n        <Typography variant='h6'>Birth Date: {birth_date || \"unknown\"}</Typography>\r\n        <Typography variant='h6'>Death Date: {death_date || \"unknown\"}</Typography>\r\n        <AuthorForm mode='update' author={this.state.author} title='Edit Author' style={{color: green[500]}} text='Edit Author' />\r\n        <hr/>\r\n        <DeleteModalButton mode='author' item={this.state.author} title='Confirm Delete' text='Delete This Author' history={this.props.history} />\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  renderBooks = () => {\r\n    if (!this.state.author) return\r\n    const { books } = this.state\r\n    const hasData = list => list.length > 0\r\n    return (\r\n      <Grid item xs={12} md={6}>\r\n        <Typography variant='h4'>Books of {this.state.author.name}</Typography>\r\n        <hr/>\r\n        {\r\n          !books || !hasData(books) ? \"This author has no books.\" :\r\n            books.map((b,index) => {\r\n              return (\r\n                <div key={b.book_id}>\r\n                  <Typography className='cursor-pointer' component={Link} color='inherit' onClick={() => this.props.history.push('/books/' + b.book_id)} variant='h5'>{b.title}</Typography>\r\n                  <Typography variant='h6'>{b.pages} pages</Typography>\r\n                  <Typography variant='h6'>Published at: {b.publish_date}</Typography>\r\n                  {index < books.length - 1 ? <Divider /> : null}\r\n                </div>\r\n              )\r\n            })\r\n        }\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  getParams = () => {\r\n    console.log(this.props.match.params)\r\n    return this.props.match.params\r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom'\r\nimport './App.css'\r\nimport Header from './components/Header'\r\nimport LoginPage from './pages/LoginPage'\r\nimport RegisterPage from './pages/RegisterPage'\r\nimport ProfilePage from './pages/ProfilePage'\r\nimport HomePage from './pages/HomePage'\r\nimport SearchPage from './pages/SearchPage'\r\nimport { connect } from 'react-redux'\r\nimport { getAuthorizationToken } from './helpers/helpers'\r\nimport { login, logout } from './actions/authAction'\r\nimport BookPage from './pages/BookPage'\r\nimport AuthorPage from './pages/AuthorPage'\r\n\r\nclass App extends Component {\r\n\r\n  componentDidMount() {\r\n    const token = getAuthorizationToken()\r\n    console.log(\"app.js local storage token: \", token)\r\n    if (!token) {\r\n      this.props.dispatch(logout()); \r\n      return\r\n    }\r\n    console.log(\"try login via token app js\")\r\n    this.props.dispatch(login(null, null, token))\r\n  }\r\n \r\n  render() {\r\n    console.log(\"app.js props\", this.props)\r\n    return (\r\n      <Router>\r\n        <div className='app-container'>\r\n          <Route path='/' component={Header} />\r\n          <Switch>\r\n            <Route exact path='/' component={HomePage} />\r\n            <Route exact path='/register' component={RegisterPage} />\r\n            <Route exact path='/login' component={LoginPage} />\r\n            <Route exact path='/users/:username' component={ProfilePage} />\r\n            <Route exact path='/search' component={SearchPage} />\r\n            <Route exact path='/books/:bookId' component={BookPage} />\r\n            <Route exact path='/authors/:authorId' component={AuthorPage} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default connect(null)(App)","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import axios from \"axios\";\r\nimport { setAuthorizationToken } from \"../helpers/helpers.js\";\r\n\r\nexport default function initApp() {\r\n  setAxiosDefaults()\r\n}\r\n\r\n\r\nasync function setAxiosDefaults() {\r\n  // axios.defaults.baseURL = 'http://localhost:5000/api';\r\n  axios.defaults.baseURL = 'https://readhead.herokuapp.com/api';\r\n  // get jwt token from local storage \r\n  const jwtToken = window.localStorage.getItem(\"readhead-jwtToken\");\r\n  console.log(\"initApp local storage token: \", jwtToken)\r\n  // set token to deafault request headers if wxists\r\n  if (jwtToken) {\r\n    setAuthorizationToken(jwtToken);\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport initApp from './init/init.js'\r\n\r\n//redux config \r\nimport { Provider } from \"react-redux\";\r\nimport store from './helpers/store';\r\n\r\n// set application settings\r\ninitApp()\r\n\r\nReactDOM.render(\r\n  <Provider store={store}><App /></Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}